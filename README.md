# LiFi Platooning Car

This project is a part of a summer course in SAE, Tsinghua University.


## Hardware GPIO Table
| **分类**                         | **功能**    | **原理图编号** | **Arduino** | **STM32** | **51**     | **树莓派** | **wiringPi** | **BCM** | **备注**             |
|:------------------------------:|:---------:|:---------:|:-----------:|:---------:|:----------:|:-------:|:------------:|:-------:|:------------------:|
| **小车运动类**                      | 左电机前      | AIN2      | 8           | PB9       | P2\.1      | IO20    | 28           | 20      |                    |
|                            | 左电机后      | AIN1      | 7           | PB8       | P2\.2      | IO21    | 29           | 21      |                    |
|                            | 右电机前      | BIN2      | 2           | PB4       | P2\.4      | IO19    | 24           | 19      |                    |
|                            | 右电机后      | BIN1      | 4           | PB5       | P2\.3      | IO26    | 25           | 26      |                    |
|                            | 左电机PWM    | PWMA      | 6           | PB7       | P2\.0      | IO16    | 27           | 16      |                    |
|                            | 右电机PWM    | PWMB      | 5           | PB6       | P2\.5      | IO13    | 23           | 13      |                    |
| **巡线传感器**                    | 左1        | IN2       | A2          | PC14      | P1\.1      | IO3     | 9            | 3       | Arduino需要跳线，其他不用跳线 |
|                            | 左2        | IN1       | A1          | PC13      | P1\.0      | IO5     | 21           | 5       |                    |
|                            | 右1        | IN3       | A3          | PC15      | P1\.2      | IO4     | 7            | 4       |                    |
|                            | 右2        | IN4       | A4          | PB12      | P1\.3      | IO18    | 1            | 18      |                    |
| **红外避障**                       | 左         | IN7       | A3          | PA6       | P1\.6      | IO12    | 26           | 12      | Arduino需要跳线，其他不用跳线 |
|                            | 右         | IN5       | A1          | PA4       | P1\.4      | IO17    | 0            | 17      |                    |
| **寻光传感器**                      | 左         | IN8       | A4          | PB3       | P1\.7      | IO7     | 11           | 7       |                    |
|                            | 右         | IN6       | A2          | PA5       | P1\.5      | IO6     | 12           | 10      |                    |
| **灰度传感器**                      | 灰度传感器     | GS        | A5          | PA1       | 无          | 无       | 无            | 无       |                    |
| **按键**                         | 按键        | K2        | A0          | PA0       | P2\.7      | IO8     | 10           | 8       |                    |
| **蜂鸣器**                        | 蜂鸣器       | FM        | A0          | PA0       | P2\.7      | IO8     | 10           | 8       |                    |
| **风扇**                         | 风扇        | MOTOR     | A5          | PA1       | P0\.0      | IO2     | 8            | 2       |                    |
| **七彩探照灯**                      | 红色        | LED\_R    | 11          | PB1       | P3\.2/INT0 | IO22    | 3            | 22      |                    |
|                            | 绿色        | LED\_G    | 10          | PB0       | P3\.3/INT1 | IO27    | 2            | 27      |                    |
|                            | 蓝色        | LED\_B    | 9           | PA7       | P3\.4/T0   | IO24    | 5            | 24      |                    |
| **云台**                         | 云台        | J1        | 3           | PA11      | P0\.5      | IO23    | 4            | 23      |                    |
| **超声波**                        | 发送        | SCL\_C    | 13          | PA15      | P3\.7/RD   | ID\_SC  | 30           | 0       |                    |
|                            | 接收        | SDA\_C    | 12          | PA12      | P3\.6/WR   | ID\_SD  | 31           | 1       |                    |
| **红外遥控**                       | 红外遥控      | IRN       | A5          | PA1       | P3\.5/T1   | IO2     | 8            | 2       | 都需要跳线              |
| **电压检测**                       | 电压检测      | POWERC    | A0          | PA0       | 无          | 无       | 无            | 无       |                    |
| **PS2**                        | MOSI      | MOS       | A3          | PB15      | P0\.2      | IO10    | 12           | 10      |                    |
|                            | MISO      | MIS       | A2          | PB14      | P0\.3      | IO9     | 13           | 9       |                    |
|                            | GND       | GND       | GND         | GND       | GND        | GND     |       GND    |   GND   |                    |
|                            | VCC       | VCC       | VCC         | VCC       | VCC        | VCC     |       VCC    |   VCC   |                    |
|                            | CS        | CS        | A4          | PA8       | P0\.1      | IO25    | 6            | 25      |                    |
|                            | SCK       | SCK       | A1          | PB13      | P0\.4      | IO11    | 14           | 11      |                    |
| **MPU6050**                    | 时钟        | SCL       | SCL         | PB10      | P0\.7      | 无       | 无            | 无       |                    |
|                            | 数据        | SDA       | SDA         | PB11      | P0\.6      | 无       | 无            | 无       |                    |
| **机械手**                        | 自由度1      | J1        | 3           | PA11      | P0\.5      | IO23    | 4            | 23      |                    |
|                            | 自由度2      | J2        | A1          | PB13      | P0\.4      | IO11    | 14           | 11      |                    |
|                            | 自由度3      | J3        | A2          | PB14      | P0\.3      | IO9     | 13           | 9       |                    |
|                            | 自由度4      | J4        | A3          | PB15      | P0\.2      | IO10    | 12           | 10      |                    |
|                            | 自由度5      | J5        | A4          | PA8       | P0\.1      | IO25    | 6            | 25      |                    |
|                            | 自由度6      | J6        | A5          | PA1       | P0\.0      | IO2     | 8            | 2       |                    |
| **24L01无线**                    | RST       | RST       | A5          | PA1       | P0\.0      | 无       | 无            | 无       |                    |
|                            | SCK       | SCK       | A1          | PB13      | P0\.4      | 无       | 无            | 无       |                    |
|                            | MISI      | MISI      | A2          | PB14      | P0\.3      | 无       | 无            | 无       |                    |
|                            | MOSI      | MOSI      | A3          | PB15      | P0\.2      | 无       | 无            | 无       |                    |
|                            | CS        | CS        | A4          | PA8       | P0\.1      | 无       | 无            | 无       |                    |
| **线性CCD摄像头**                   | A0        | A0        | A1          | PB13      | 无          | 无       | 无            | 无       |                    |
|                            | CLK       | CLK       | A3          | PB15      | 无          | 无       | 无            | 无       |                    |
|                            | SI        | SI        | A2          | PB14      | 无          | 无       | 无            | 无       |                    |



